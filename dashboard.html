<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKUscale - Stop Guessing, Start Scaling</title>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .recommended-plan { transform: scale(1.05  ); box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1), 0 0 0 2px #4f46e5; }
    </style>
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.1/auth0-spa-js.production.js"></script>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="/"><img src="/skuscale-logo.svg" alt="SKUscale Logo" class="h-8"></a>
            <div class="flex items-center space-x-4">
                <a href="#pricing" class="text-gray-600 hover:text-indigo-600" data-lang="en">Pricing</a>
                <a href="#pricing" class="text-gray-600 hover:text-indigo-600" data-lang="es" style="display:none;">Precios</a>
                <div>
                    <button id="lang-en" class="font-semibold text-indigo-600">EN</button>
                    <span class="text-gray-300">/</span>
                    <button id="lang-es" class="font-semibold text-gray-400 hover:text-indigo-600">ES</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <main class="container mx-auto px-6 pt-16 pb-12 md:pt-24 md:pb-20 text-center">
        <h2 class="text-4xl md:text-6xl font-extrabold tracking-tight text-gray-900" data-lang="en">Stop Guessing, <span class="text-indigo-600">Start Scaling.</span></h2>
        <h2 class="text-4xl md:text-6xl font-extrabold tracking-tight text-gray-900" data-lang="es" style="display:none;">Deja de Adivinar, <span class="text-indigo-600">Empieza a Escalar.</span></h2>
        <p class="mt-4 max-w-2xl mx-auto text-lg md:text-xl text-gray-600" data-lang="en">Get your <b>first complete SKU classification for free</b> and discover your most profitable (and unprofitable ) products right now.</p>
        <p class="mt-4 max-w-2xl mx-auto text-lg md:text-xl text-gray-600" data-lang="es" style="display:none;">Consigue tu <b>primera clasificación de SKUs completa y gratis</b>, y descubre ahora mismo tus productos más rentables (y los que no lo son).</p>
        <div class="mt-8">
            <button class="login-trigger bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition-transform transform hover:scale-105 text-lg" data-lang="en">Get Your Free SKU Classification</button>
            <button class="login-trigger bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition-transform transform hover:scale-105 text-lg" data-lang="es" style="display:none;">Consigue tu Clasificación Gratis</button>
        </div>
    </main>

    <!-- Solution Section (AHORA RESTAURADA) -->
    <section class="py-16 md:py-24 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h3 class="text-3xl md:text-4xl font-bold text-gray-900" data-lang="en">The System Used by 8-Figure Brands, Now for You</h3>
                <h3 class="text-3xl md:text-4xl font-bold text-gray-900" data-lang="es" style="display:none;">El Sistema que usan las Grandes Marcas, ahora para Ti</h3>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
                <div class="bg-gray-50 p-6 rounded-lg border"><div class="text-2xl font-bold text-green-500" data-lang="en">Winners</div><div class="text-2xl font-bold text-green-500" data-lang="es" style="display:none;">Ganadores</div><p class="mt-2 text-gray-600" data-lang="en">High-profit, high-volume stars.   
<b>Action:</b> Scale them aggressively.</p><p class="mt-2 text-gray-600" data-lang="es" style="display:none;">Alta rentabilidad y alto volumen.   
<b>Acción:</b> Escálalos de forma agresiva.</p></div>
                <div class="bg-gray-50 p-6 rounded-lg border"><div class="text-2xl font-bold text-blue-500" data-lang="en">Potentials</div><div class="text-2xl font-bold text-blue-500" data-lang="es" style="display:none;">Potenciales</div><p class="mt-2 text-gray-600" data-lang="en">High-profit, low-volume gems.   
<b>Action:</b> Increase their visibility.</p><p class="mt-2 text-gray-600" data-lang="es" style="display:none;">Alta rentabilidad y bajo volumen.   
<b>Acción:</b> Aumenta su visibilidad.</p></div>
                <div class="bg-gray-50 p-6 rounded-lg border"><div class="text-2xl font-bold text-red-500" data-lang="en">Losers</div><div class="text-2xl font-bold text-red-500" data-lang="es" style="display:none;">Perdedores</div><p class="mt-2 text-gray-600" data-lang="en">Low-profit products that drain your budget.   
<b>Action:</b> Reduce their spend.</p><p class="mt-2 text-gray-600" data-lang="es" style="display:none;">Productos que drenan tu presupuesto.   
<b>Acción:</b> Reduce su inversión.</p></div>
                <div class="bg-gray-50 p-6 rounded-lg border"><div class="text-2xl font-bold text-gray-500" data-lang="en">Sleepers</div><div class="text-2xl font-bold text-gray-500" data-lang="es" style="display:none;">Durmientes</div><p class="mt-2 text-gray-600" data-lang="en">Dead-weight products.   
<b>Action:</b> Exclude them from campaigns.</p><p class="mt-2 text-gray-600" data-lang="es" style="display:none;">Productos de peso muerto.   
<b>Acción:</b> Exclúyelos de las campañas.</p></div>
            </div>
        </div>
    </section>

    <!-- Pricing Section (AHORA RESTAURADA) -->
    <section id="pricing" class="py-16 md:py-24">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h3 class="text-3xl md:text-4xl font-bold text-gray-900" data-lang="en">Start for Free, Then Choose Your Path to Scale</h3>
                <h3 class="text-3xl md:text-4xl font-bold text-gray-900" data-lang="es" style="display:none;">Empieza Gratis, Luego Elige tu Camino para Escalar</h3>
                <p class="mt-2 text-lg text-gray-600" data-lang="en">Your first classification is on us. See the value for yourself, then subscribe to stay ahead.</p>
                <p class="mt-2 text-lg text-gray-600" data-lang="es" style="display:none;">Tu primera clasificación corre de nuestra cuenta. Comprueba el valor por ti mismo y luego suscríbete para mantener la ventaja.</p>
            </div>
            <div class="flex flex-col lg:flex-row justify-center items-center gap-8">
                <div class="bg-white border border-gray-200 p-8 rounded-lg w-full max-w-md lg:max-w-sm"><h4 class="text-2xl font-bold text-gray-900">FREE</h4><p class="text-5xl font-extrabold my-4">$0</p><p class="h-24 text-gray-600" data-lang="en">A one-time, complete classification of your entire product catalog. Find your Winners, Losers, and hidden opportunities.</p><p class="h-24 text-gray-600" data-lang="es" style="display:none;">Una clasificación completa, por única vez, de todo tu catálogo. Encuentra tus Ganadores, Perdedores y oportunidades ocultas.</p><div class="mt-8"><button class="login-trigger w-full bg-gray-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-black" data-lang="en">Start for Free</button><button class="login-trigger w-full bg-gray-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-black" data-lang="es" style="display:none;">Empieza Gratis</button></div></div>
                <div class="bg-white border border-gray-200 p-8 rounded-lg w-full max-w-md relative recommended-plan"><span class="absolute top-0 -translate-y-1/2 bg-indigo-600 text-white text-xs font-bold px-3 py-1 rounded-full uppercase" data-lang="en">Most Popular</span><span class="absolute top-0 -translate-y-1/2 bg-indigo-600 text-white text-xs font-bold px-3 py-1 rounded-full uppercase" data-lang="es" style="display:none;">Más Popular</span><h4 class="text-2xl font-bold text-indigo-600">GROWTH</h4><p class="text-5xl font-extrabold my-4"><span data-lang="en">$100</span><span data-lang="es" style="display:none;">100€</span><span class="text-base font-medium text-gray-500">/mo</span></p><p class="h-24 text-gray-600" data-lang="en">Perfect for hands-on teams. Get automated weekly classifications to continuously optimize your ad spend and strategy.</p><p class="h-24 text-gray-600" data-lang="es" style="display:none;">Perfecto para equipos autónomos. Recibe clasificaciones semanales automáticas para optimizar continuamente tu inversión y estrategia.</p><div class="mt-8"><button class="login-trigger w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700" data-lang="en">Choose Growth</button><button class="login-trigger w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700" data-lang="es" style="display:none;">Elegir Growth</button></div></div>
                <div class="bg-white border border-gray-200 p-8 rounded-lg w-full max-w-md lg:max-w-sm"><h4 class="text-2xl font-bold text-gray-900">SCALE</h4><p class="text-5xl font-extrabold my-4"><span data-lang="en">$250</span><span data-lang="es" style="display:none;">250€</span><span class="text-base font-medium text-gray-500">/mo</span></p><p class="h-24 text-gray-600" data-lang="en">For teams who want expert guidance. Includes everything in Growth, plus a monthly 1-on-1 strategy call.</p><p class="h-24 text-gray-600" data-lang="es" style="display:none;">Para equipos que quieren un experto a su lado. Incluye todo Growth, más una llamada estratégica mensual.</p><div class="mt-8"><button class="login-trigger w-full bg-gray-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-black" data-lang="en">Choose Scale</button><button class="login-trigger w-full bg-gray-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-black" data-lang="es" style="display:none;">Elegir Scale</button></div></div>
            </div>
        </div>
    </section>

    <footer class="bg-gray-800 text-white py-8"><div class="container mx-auto px-6 text-center"><p>&copy; 2025 SKUscale. All rights reserved.</p></div></footer>
    

<script>

        // --- 1. LANGUAGE SWITCHER (Sin cambios) ---
        // ... tu código de cambio de idioma ...

        // --- 2. LÓGICA DE AUTENTICACIÓN CON AUTH0 (CORREGIDA) ---
    let auth0Client = null;

    const configureClient = async () => {
        try {
            auth0Client = await auth0.createAuth0Client({
                domain: "TU_DOMINIO_DE_AUTH0", // <-- USA TU DOMINIO REAL
                clientId: "TU_CLIENT_ID_DE_AUTH0" // <-- USA TU CLIENT ID REAL
            });
            return auth0Client;
        } catch (e) {
            console.error("Error al configurar Auth0:", e);
            return null;
        }
    };

    const initializeDashboard = async (client) => {
        // Obtenemos los datos del usuario de Auth0.
        const user = await client.getUser();

        // Rellenamos la UI con los datos del usuario
        const userMenuContainer = document.getElementById('user-menu-container');
        const userNameDisplay = document.getElementById('user-name');
        const userEmailDisplay = document.getElementById('user-email');
        const logoutButton = document.getElementById('logout-button');
        const welcomeName = document.getElementById('welcome-name');
        
        const fullName = user.name || user.email.split('@')[0];
        if (userNameDisplay) userNameDisplay.textContent = fullName;
        if (userEmailDisplay) userEmailDisplay.textContent = user.email;
        if (welcomeName) welcomeName.textContent = fullName;
        if (userMenuContainer) userMenuContainer.classList.remove('hidden');

        // Lógica del menú y logout
        document.getElementById('user-menu-button')?.addEventListener('click', () => document.getElementById('user-menu').classList.toggle('hidden'));
        logoutButton?.addEventListener('click', () => {
            client.logout({
                logoutParams: { returnTo: window.location.origin }
            });
        });

        // Lógica del formulario de Onboarding (sin cambios)
        // ... (el resto de tu lógica de formulario que ya funcionaba)
    };

    // ESTA ES LA LÓGICA PRINCIPAL QUE SE EJECUTA AL CARGAR LA PÁGINA
    window.onload = async () => {
        const client = await configureClient();
        if (!client) {
            console.error("Auth0 no se pudo inicializar. Abortando.");
            return;
        }

        const query = window.location.search;

        // CASO 1: La URL contiene los códigos de Auth0.
        if (query.includes("code=") && query.includes("state=")) {
            try {
                await client.handleRedirectCallback();
                // Limpiamos la URL para quitar los códigos y recargamos la página en su estado "limpio".
                window.history.replaceState({}, document.title, "/dashboard.html");
                // Una vez limpia la URL, inicializamos el dashboard.
                await initializeDashboard(client);
            } catch (e) {
                console.error("Error en handleRedirectCallback:", e);
                window.location.href = '/'; // Si falla, lo mandamos a la home.
            }
        // CASO 2: La URL está limpia, pero necesitamos verificar si el usuario está logueado.
        } else {
            const isAuthenticated = await client.isAuthenticated();
            if (isAuthenticated) {
                // Si está autenticado, mostramos el dashboard.
                await initializeDashboard(client);
            } else {
                // Si no está autenticado y la URL está limpia, no debería estar aquí. Lo expulsamos.
                window.location.href = '/';
            }
        }
    };
</script>

</body>
</html>
